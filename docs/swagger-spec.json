{"openapi":"3.0.0","paths":{"/api/users":{"get":{"operationId":"UsersController_findAll","parameters":[{"name":"role","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Пользователи"],"security":[{"bearer":[]}]}},"/api/users/{id}":{"get":{"operationId":"UsersController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Пользователи"],"security":[{"bearer":[]}]}},"/api/users/{slug}":{"patch":{"operationId":"UsersController_promoteUser","parameters":[{"name":"slug","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromoteUserDto"}}}},"responses":{"200":{"description":""}},"tags":["Пользователи"],"security":[{"bearer":[]}]}},"/api/roles":{"post":{"operationId":"RolesController_create","summary":"Создание новой роли","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRoleDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Role"}}}},"409":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Роли"],"security":[{"bearer":[]}]},"get":{"operationId":"RolesController_findAll","summary":"Получение всех ролей","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Role"}}}}}},"tags":["Роли"],"security":[{"bearer":[]}]}},"/api/roles/{slug}":{"get":{"operationId":"RolesController_findOne","summary":"Получение роли по id или названию","parameters":[{"name":"slug","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Role"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Роли"],"security":[{"bearer":[]}]},"delete":{"operationId":"RolesController_remove","summary":"Удаление роли по id или названию","parameters":[{"name":"slug","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Role"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Роли"],"security":[{"bearer":[]}]}},"/api/auth/sign-up":{"post":{"operationId":"AuthController_signUp","summary":"Регистрация нового пользователя","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpDto"}}}},"responses":{"201":{"description":""}},"tags":["Авторизация"]}},"/api/auth/sign-in":{"post":{"operationId":"AuthController_signIn","summary":"Авторизация пользователя","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInDto"}}}},"responses":{"200":{"description":""},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Авторизация"]}},"/api/auth/logout":{"get":{"operationId":"AuthController_logout","parameters":[],"responses":{"200":{"description":""}},"tags":["Авторизация"],"security":[{"bearer":[]}]}},"/api/auth/refresh":{"get":{"operationId":"AuthController_refresh","parameters":[],"responses":{"200":{"description":""}},"tags":["Авторизация"]}},"/api/account":{"get":{"operationId":"AccountController_profile","summary":"Получение профиля авторизованного пользователя","parameters":[],"responses":{"default":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProfileDto"}}}}},"tags":["Аккаунт пользователя"],"security":[{"bearer":[]}]}},"/api/account/avatar":{"patch":{"operationId":"AccountController_updateAvatar","summary":"Обновление фотографии профиля","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":""}},"tags":["Аккаунт пользователя"],"security":[{"bearer":[]}]}},"/api/cities":{"post":{"operationId":"CitiesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCityDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}]},"get":{"operationId":"CitiesController_findAll","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}]}},"/api/cities/{id}":{"get":{"operationId":"CitiesController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}]}}},"info":{"title":"SLADKOEZHKOVO API","description":"API к курсовому проекту по ПСБД <br/> &copy; Evteev Dmitry 2024","version":"0.1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"Bearer","bearerFormat":"JWT","type":"http","in":"Header"}},"schemas":{"PromoteUserDto":{"type":"object","properties":{"role":{"type":"string"}},"required":["role"]},"CreateRoleDto":{"type":"object","properties":{"name":{"type":"string"},"authority":{"type":"number"}},"required":["name","authority"]},"Role":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"authority":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string","nullable":true}},"required":["id","name","authority","createdAt","updatedAt"]},"ErrorDto":{"type":"object","properties":{"message":{"type":"string"},"error":{"type":"string"},"statusCode":{"type":"number"}},"required":["message","error","statusCode"]},"SignUpDto":{"type":"object","properties":{"handle":{"type":"string"},"email":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"middleName":{"type":"string"},"password":{"type":"string"}},"required":["handle","email","lastName","firstName","middleName","password"]},"SignInDto":{"type":"object","properties":{"login":{"type":"string"},"password":{"type":"string"}},"required":["login","password"]},"ProfileDto":{"type":"object","properties":{"id":{"type":"string"},"handle":{"type":"string"},"email":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"middleName":{"type":"string"},"avatarLink":{"type":"string"},"role":{"type":"string"}},"required":["id","handle","email","lastName","firstName","middleName","avatarLink","role"]},"CreateCityDto":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]}}}}